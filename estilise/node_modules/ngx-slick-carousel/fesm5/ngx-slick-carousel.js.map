{"version":3,"file":"ngx-slick-carousel.js","sources":["ng://ngx-slick-carousel/slick.component.ts","ng://ngx-slick-carousel/index.ts"],"sourcesContent":["import { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport {\n  AfterViewChecked,\n  AfterViewInit,\n  Component,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Host,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  PLATFORM_ID,\n  SimpleChanges\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\ndeclare const jQuery: any;\n\n/**\n * Slick component\n */\n@Component({\n  selector: 'ngx-slick-carousel',\n  exportAs: 'slick-carousel',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => SlickCarouselComponent),\n    multi: true\n  }],\n  template: '<ng-content></ng-content>',\n})\nexport class SlickCarouselComponent implements OnDestroy, OnChanges, AfterViewInit, AfterViewChecked {\n\n    @Input() config: any;\n    @Output() afterChange: EventEmitter<{ event: any, slick: any, currentSlide: number, first: boolean, last: boolean }> = new EventEmitter();\n    @Output() beforeChange: EventEmitter<{ event: any, slick: any, currentSlide: number, nextSlide: number }> = new EventEmitter();\n    @Output() breakpoint: EventEmitter<{ event: any, slick: any, breakpoint: any }> = new EventEmitter();\n    @Output() destroy: EventEmitter<{ event: any, slick: any }> = new EventEmitter();\n    @Output() init: EventEmitter<{ event: any, slick: any }> = new EventEmitter();\n\n  public $instance: any;\n\n  // access from parent component can be a problem with change detection timing. Please use afterChange output\n  private currentIndex = 0;\n\n  public slides: any[] = [];\n  public initialized = false;\n  private _removedSlides: SlickItemDirective[] = [];\n  private _addedSlides: SlickItemDirective[] = [];\n\n  /**\n   * Constructor\n   */\n  constructor(private el: ElementRef,\n              private zone: NgZone,\n              @Inject(PLATFORM_ID) private platformId: string) {\n  }\n\n  /**\n   * On component destroy\n   */\n  ngOnDestroy() {\n    this.unslick();\n  }\n\n  ngAfterViewInit(): void {\n    this.ngAfterViewChecked();\n  }\n\n  /**\n   * On component view checked\n   */\n  ngAfterViewChecked() {\n    if (isPlatformServer(this.platformId)) {\n      return;\n    }\n    if (this._addedSlides.length > 0 || this._removedSlides.length > 0) {\n      const nextSlidesLength = this.slides.length - this._removedSlides.length + this._addedSlides.length;\n      if (!this.initialized) {\n        if (nextSlidesLength > 0) {\n          this.initSlick();\n        }\n        // if nextSlidesLength is zere, do nothing\n      } else if (nextSlidesLength === 0) { // unslick case\n        this.unslick();\n      } else {\n        this._addedSlides.forEach(slickItem => {\n          this.slides.push(slickItem);\n          this.zone.runOutsideAngular(() => {\n            this.$instance.slick('slickAdd', slickItem.el.nativeElement);\n          });\n        });\n        this._addedSlides = [];\n\n        this._removedSlides.forEach(slickItem => {\n          const idx = this.slides.indexOf(slickItem);\n          this.slides = this.slides.filter(s => s !== slickItem);\n          this.zone.runOutsideAngular(() => {\n            this.$instance.slick('slickRemove', idx);\n          });\n        });\n        this._removedSlides = [];\n      }\n    }\n  }\n\n  /**\n   * init slick\n   */\n  initSlick() {\n    this.slides = this._addedSlides;\n    this._addedSlides = [];\n    this._removedSlides = [];\n    this.zone.runOutsideAngular(() => {\n      this.$instance = jQuery(this.el.nativeElement);\n\n      this.$instance.on('init', (event, slick) => {\n        this.zone.run(() => {\n          this.init.emit({ event, slick });\n        });\n      });\n\n      this.$instance.slick(this.config);\n\n      this.zone.run(() => {\n        this.initialized = true;\n\n        this.currentIndex = this.config?.initialSlide || 0;\n      });\n\n            this.$instance.on('afterChange', (event, slick, currentSlide) => {\n                this.zone.run(() => {\n                    this.afterChange.emit({\n                        event,\n                        slick,\n                        currentSlide,\n                        first: currentSlide === 0,\n                        last: slick.$slides.length === currentSlide + slick.options.slidesToScroll\n                    });\n                    this.currentIndex = currentSlide;\n                });\n            });\n\n      this.$instance.on('beforeChange', (event, slick, currentSlide, nextSlide) => {\n        this.zone.run(() => {\n          this.beforeChange.emit({ event, slick, currentSlide, nextSlide });\n          this.currentIndex = nextSlide;\n        });\n      });\n\n      this.$instance.on('breakpoint', (event, slick, breakpoint) => {\n        this.zone.run(() => {\n          this.breakpoint.emit({ event, slick, breakpoint });\n        });\n      });\n\n      this.$instance.on('destroy', (event, slick) => {\n        this.zone.run(() => {\n          this.destroy.emit({ event, slick });\n          this.initialized = false;\n        });\n      });\n    });\n  }\n\n  addSlide(slickItem: SlickItemDirective) {\n    this._addedSlides.push(slickItem);\n  }\n\n  removeSlide(slickItem: SlickItemDirective) {\n    this._removedSlides.push(slickItem);\n  }\n\n  /**\n   * Slick Method\n   */\n  public slickGoTo(index: number) {\n    this.zone.runOutsideAngular(() => {\n      this.$instance.slick('slickGoTo', index);\n    });\n  }\n\n  public slickNext() {\n    this.zone.runOutsideAngular(() => {\n      this.$instance.slick('slickNext');\n    });\n  }\n\n  public slickPrev() {\n    this.zone.runOutsideAngular(() => {\n      this.$instance.slick('slickPrev');\n    });\n  }\n\n  public slickPause() {\n    this.zone.runOutsideAngular(() => {\n      this.$instance.slick('slickPause');\n    });\n  }\n\n  public slickPlay() {\n    this.zone.runOutsideAngular(() => {\n      this.$instance.slick('slickPlay');\n    });\n  }\n\n  public unslick() {\n    if (this.$instance) {\n      this.zone.runOutsideAngular(() => {\n        this.$instance.slick('unslick');\n      });\n      this.$instance = undefined;\n    }\n    this.initialized = false;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (this.initialized) {\n      const config = changes['config'];\n      if (config.previousValue !== config.currentValue && config.currentValue !== undefined) {\n        const refresh = config.currentValue['refresh'];\n        const newOptions = Object.assign({}, config.currentValue);\n        delete newOptions['refresh'];\n\n        this.zone.runOutsideAngular(() => {\n          this.$instance.slick('slickSetOption', newOptions, refresh);\n        });\n      }\n    }\n  }\n\n}\n\n@Directive({\n  selector: '[ngxSlickItem]',\n})\nexport class SlickItemDirective implements OnInit, OnDestroy {\n  constructor(public el: ElementRef,\n              @Inject(PLATFORM_ID) private platformId: string,\n              @Host() private carousel: SlickCarouselComponent) {\n  }\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.carousel.addSlide(this);\n    }\n  }\n\n  ngOnDestroy() {\n    if (isPlatformBrowser(this.platformId)) {\n      this.carousel.removeSlide(this);\n    }\n  }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {SlickCarouselComponent, SlickItemDirective} from './slick.component';\n\nexport * from './slick.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    SlickCarouselComponent,\n    SlickItemDirective,\n  ],\n  exports: [\n    SlickCarouselComponent,\n    SlickItemDirective,\n  ]\n})\nexport class SlickCarouselModule {\n}\n"],"names":[],"mappings":"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"}